#!/bin/bash

# Copyright (c) 2008-2024 by Gilles Caulier, <caulier dot gilles at gmail dot com>
#
# Redistribution and use is allowed according to the terms of the GPL3 license.
# For details see the accompanying COPYING file.
#
# Cppcheck static analyzer configuration used by reports/cppcheck.sh

# --- Directories to exclude from Cppcheck static analysis.

IGNORE_DIRS="-i ../translations/ "
IGNORE_DIRS+="-i ../patches/ "

# --- Defines to use with static analysis.

CPPCHECK_DEFINES="\
-DQ_OS_LINUX \
-DQ_OS_UNIX \
-DQ_PROCESSOR_X86_64 \
"

CPPCHECK_OPTIONS="\
--std=c++17 \
--library=qt.cfg \
--platform=unix64 \
"

CPPCHECK_SUPPRESSIONS="\
--inline-suppr \
--suppress=*:*cimg*.h \
--suppress=*:*gmic*.h \
--suppress=missingIncludeSystem \
--suppress=missingInclude \
--suppress=variableScope \
--suppress=purgedConfiguration \
--suppress=toomanyconfigs \
--suppress=unreadVariable \
--suppress=unusedVariable \
--suppress=unusedStructMember \
--suppress=unusedPrivateFunction \
--suppress=unknownMacro \
--suppress=unmatchedSuppression \
--suppress=unassignedVariable \
--suppress=class_X_Y \
--suppress=ConfigurationNotChecked \
--suppress=useStlAlgorithm \
--suppress=cstyleCast \
--suppress=constVariablePointer \
--suppress=shadowFunction \
--suppress=checkersReport \
"
